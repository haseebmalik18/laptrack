{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/haseebulhaqmalik/Desktop/lap-lens/web/app/components/GForceTracePanel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\n\ninterface GForceTracePanelProps {\n  currentLapData: any;\n  referenceLapData: any;\n  currentIndex: number;\n}\n\nexport function GForceTracePanel({ currentLapData, referenceLapData, currentIndex }: GForceTracePanelProps) {\n  const chartData = useMemo(() => {\n    if (!currentLapData?.telemetry) return [];\n\n    const current = currentLapData.telemetry;\n\n    // Sample every 10 points for performance\n    const sampledData = [];\n    for (let i = 0; i < current.length; i += 10) {\n      const point = current[i];\n\n      sampledData.push({\n        distance: Math.round(point.distance),\n        gLat: Number((point.gForceLateral || 0).toFixed(2)),\n        gLong: Number((point.gForceLongitudinal || 0).toFixed(2)),\n      });\n    }\n\n    return sampledData;\n  }, [currentLapData]);\n\n  const currentPoint = currentLapData?.telemetry?.[Math.floor(currentIndex)];\n  const currentGLat = currentPoint?.gForceLateral || 0;\n  const currentGLong = currentPoint?.gForceLongitudinal || 0;\n  const combinedG = Math.sqrt(currentGLat * currentGLat + currentGLong * currentGLong);\n\n  if (!currentLapData?.telemetry) {\n    return (\n      <div className=\"p-6 text-center text-zinc-500\">\n        No telemetry data available\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      <div className=\"border-b border-zinc-800 px-4 py-3\">\n        <h3 className=\"text-sm font-semibold text-white uppercase tracking-wider\">\n          G-Force\n        </h3>\n        <p className=\"text-xs text-zinc-500 mt-1\">\n          Lateral & Longitudinal Forces\n        </p>\n      </div>\n\n      <div className=\"flex-1 p-4 space-y-4\">\n        {/* Lateral G Chart */}\n        <div>\n          <div className=\"text-xs text-zinc-500 uppercase tracking-wider mb-2\">Lateral G (Cornering)</div>\n          <ResponsiveContainer width=\"100%\" height={100}>\n            <LineChart data={chartData} margin={{ top: 5, right: 10, left: -20, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#27272a\" vertical={false} />\n              <XAxis\n                dataKey=\"distance\"\n                stroke=\"#52525b\"\n                tick={{ fill: '#71717a', fontSize: 9 }}\n                tickLine={false}\n                axisLine={{ stroke: '#3f3f46' }}\n              />\n              <YAxis\n                stroke=\"#52525b\"\n                tick={{ fill: '#71717a', fontSize: 9 }}\n                tickLine={false}\n                axisLine={{ stroke: '#3f3f46' }}\n              />\n              <Tooltip\n                contentStyle={{ backgroundColor: '#18181b', border: '1px solid #3f3f46', borderRadius: '4px' }}\n                labelStyle={{ color: '#a1a1aa', fontSize: 10 }}\n                itemStyle={{ fontSize: 10 }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"gLat\"\n                stroke=\"#a855f7\"\n                strokeWidth={2}\n                dot={false}\n                isAnimationActive={false}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Longitudinal G Chart */}\n        <div>\n          <div className=\"text-xs text-zinc-500 uppercase tracking-wider mb-2\">Longitudinal G (Braking/Accel)</div>\n          <ResponsiveContainer width=\"100%\" height={100}>\n            <LineChart data={chartData} margin={{ top: 5, right: 10, left: -20, bottom: 5 }}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#27272a\" vertical={false} />\n              <XAxis\n                dataKey=\"distance\"\n                stroke=\"#52525b\"\n                tick={{ fill: '#71717a', fontSize: 9 }}\n                tickLine={false}\n                axisLine={{ stroke: '#3f3f46' }}\n              />\n              <YAxis\n                stroke=\"#52525b\"\n                tick={{ fill: '#71717a', fontSize: 9 }}\n                tickLine={false}\n                axisLine={{ stroke: '#3f3f46' }}\n              />\n              <Tooltip\n                contentStyle={{ backgroundColor: '#18181b', border: '1px solid #3f3f46', borderRadius: '4px' }}\n                labelStyle={{ color: '#a1a1aa', fontSize: 10 }}\n                itemStyle={{ fontSize: 10 }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"gLong\"\n                stroke=\"#f59e0b\"\n                strokeWidth={2}\n                dot={false}\n                isAnimationActive={false}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Current G-Force Values */}\n        <div className=\"pt-4 border-t border-zinc-800 space-y-3\">\n          <div>\n            <div className=\"text-xs text-zinc-500 mb-1\">Lateral G</div>\n            <div className=\"text-2xl font-bold font-mono text-purple-400\">\n              {currentGLat.toFixed(2)} <span className=\"text-sm text-zinc-500\">G</span>\n            </div>\n            <div className=\"text-xs text-zinc-600 mt-1\">\n              {Math.abs(currentGLat) > 0.1 ? (currentGLat > 0 ? 'Right turn' : 'Left turn') : 'Straight'}\n            </div>\n          </div>\n\n          <div>\n            <div className=\"text-xs text-zinc-500 mb-1\">Longitudinal G</div>\n            <div className=\"text-2xl font-bold font-mono text-amber-400\">\n              {currentGLong.toFixed(2)} <span className=\"text-sm text-zinc-500\">G</span>\n            </div>\n            <div className=\"text-xs text-zinc-600 mt-1\">\n              {Math.abs(currentGLong) > 0.1 ? (currentGLong > 0 ? 'Accelerating' : 'Braking') : 'Coasting'}\n            </div>\n          </div>\n\n          <div>\n            <div className=\"text-xs text-zinc-500 mb-1\">Combined G</div>\n            <div className=\"text-2xl font-bold font-mono text-blue-400\">\n              {combinedG.toFixed(2)} <span className=\"text-sm text-zinc-500\">G</span>\n            </div>\n            <div className=\"text-xs text-zinc-600 mt-1\">Total tire load</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}